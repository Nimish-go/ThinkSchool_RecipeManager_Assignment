<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>MealByte - Recipes</title>

    <!-- main stylesheet -->
    <link rel="stylesheet" href="assets/stylesheets/main.css">
    <link rel="icon" href="assets/images/favicon_logo.png">

    <!-- Google fonts used in the design -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,600;1,400&family=Merriweather+Sans:ital,wght@0,300;0,700;1,300&family=Nunito+Sans:wght@300;600&family=Outfit:wght@300;600&family=Quicksand:wght@300;600&display=swap" rel="stylesheet">

    <!-- Requirements reference (uploaded file). Used to design the UI. -->
    <!-- Requirements file: /mnt/data/full_stack_test.pdf  :contentReference[oaicite:1]{index=1} -->
</head>
<body>

    <!-- NAVBAR -->
    <header class="primary-header">
        <h2 class="logo-text">MealByte Recipes</h2>
    </header>

    <main class="container">

        <div class="tab-switch">
            <button class="tab-btn active" data-tab="recipes-view">Recipe Card View (Default)</button>
            <button class="tab-btn" data-tab="kanban-view">Category View</button>
        </div>

        <!-- Title + Search + Filters -->
        <section id="recipes-view" class="tab-content active">

        <div class="title-search-filters">
            <h3 class="title-text">Your Recipes</h3>

            <div class="search-filter-group">
                <input type="search" class="search" placeholder="Search" autocomplete="recipes">

                <select class="difficulty-filter">
                    <option value="All">Difficulty</option>
                    <option value="Easy">Easy</option>
                    <option value="Medium">Medium</option>
                    <option value="Hard">Hard</option>
                </select>

                <select class="prep-filter">
                    <option value="All">Prep Time</option>
                    <option value="10">10 mins</option>
                    <option value="20">20 mins</option>
                    <option value="30">30 mins</option>
                    <option value="60">1 hour</option>
                </select>
            </div>
        </div>

        <div class="title-row">
            <h4 class="section-title">All Recipes</h4>
        </div>

        <!-- Cards -->
        <div id="cards" class="recipe-grid">
            <div id="recipe-container">

                <div class="add-card" id="open-add">
                    + Add another Recipe
                </div>

            </div>
        </div>

    </section>

    <!-- ---------------- KANBAN BOARD VIEW ---------------- -->
    <section id="kanban-view" class="tab-content">

        <h2 class="kanban-title">Category View (Kanban Style)</h2>

        <div class="kanban-wrapper">

            <div class="kanban-column" data-category="Breakfast">
                <h3>Breakfast</h3>
                <div class="kanban-list"></div>
            </div>

            <div class="kanban-column" data-category="Lunch">
                <h3>Lunch</h3>
                <div class="kanban-list"></div>
            </div>

            <div class="kanban-column" data-category="Dinner">
                <h3>Dinner</h3>
                <div class="kanban-list"></div>
            </div>

            <div class="kanban-column" data-category="Snacks">
                <h3>Snacks</h3>
                <div class="kanban-list"></div>
            </div>

        </div>

    </section>


        <!-- Link to the assessment PDF (local path provided) -->
        <footer class="app-footer">

        </footer>
    </main>

    <!-- ====== MODAL (Add / Edit Form) ====== -->
    <div id="recipe-modal" class="modal-overlay" aria-hidden="true">
        <div class="modal-box" role="dialog" aria-modal="true" aria-labelledby="modal-title">
            <h2 id="modal-title" class="modal-title">Add Recipe</h2>

            <form class="modal-form" id="recipe-form" autocomplete="off">
                <label for="title">Title</label>
                <input id="title" name="title" type="text" placeholder="Recipe title">
                <span class="error-msg" id="err-title"></span>

                <label for="description">Description</label>
                <textarea id="description" name="description" placeholder="Short description"></textarea>
                <span class="error-msg" id="err-description"></span>

                <label for="ingredients">Ingredients (comma-separated)</label>
                <textarea id="ingredients" name="ingredients" placeholder="egg, flour, milk"></textarea>
                <span class="error-msg" id="err-ingredients"></span>

                <label for="steps">Steps (one per line)</label>
                <textarea id="steps" name="steps" placeholder="Step 1, Step 2..."></textarea>
                <span class="error-msg" id="err-steps"></span>

                <label>Categories</label>
                <div id="edit-category-options" class="category-options">
                    <label><input type="checkbox" value="Breakfast"> Breakfast</label>
                    <label><input type="checkbox" value="Lunch"> Lunch</label>
                    <label><input type="checkbox" value="Dinner"> Dinner</label>
                    <label><input type="checkbox" value="Snacks"> Snacks</label>
                </div>


                <span class="error-msg" id="err-categories"></span>

                <label for="prep">Prep Time (mins)</label>
                <input id="prep" name="prep" type="number" min="0" placeholder="e.g. 20">
                <span class="error-msg" id="err-prep"></span>

                <label for="difficulty">Difficulty</label>
                <select id="difficulty" name="difficulty">
                    <option value="Easy">Easy</option>
                    <option value="Medium" selected>Medium</option>
                    <option value="Hard">Hard</option>
                </select>

                <label for="image-url">Image URL (optional)</label>
                <input id="image-url" type="text" placeholder="https://example.com/image.jpg">


                <button type="submit" class="modal-save-btn">Save Recipe</button>
            </form>

            <button class="modal-close-btn" id="modal-close">Close</button>
        </div>
    </div>

    <!-- ====== VIEW / EDIT RECIPE MODAL (New Layout) ====== -->
    <div id="view-modal" class="modal-overlay" aria-hidden="true">
    <div class="modal-box view-modal-grid" role="dialog" aria-modal="true" aria-labelledby="view-modal-title">

        <h2 id="view-modal-title" class="modal-title" style="text-align:center; margin-bottom:8px;">Recipe Details</h2>

        <div class="view-grid">
        <!-- LEFT COLUMN: IMAGE PREVIEW + STEPS -->
        <div class="view-left">
            <div class="image-preview-wrap">
            <img id="view-image-preview" src="assets/images/default.png" alt="Recipe image preview">
            </div>

            <label class="view-label">Steps</label>
            <textarea id="view-steps" class="view-steps" disabled placeholder="1: Step one&#10;2: Step two"></textarea>
        </div>

        <!-- RIGHT COLUMN: FIELDS + FILE UPLOAD -->
        <div class="view-right">
            <label class="view-label">Title</label>
            <input id="view-title" type="text" class="view-input" disabled>

            <label for="view-ingredients">Ingredients</label>
            <input type="text" id="view-ingredients" class="view-input" disabled>

            <label class="view-label">Description</label>
            <textarea id="view-description" class="view-input" disabled></textarea>

            <label class="view-label">Max Prep Time</label>
            <input id="view-prep" type="text" class="view-input" disabled>

            <label class="view-label">Difficulty</label>
            <select id="view-difficulty" class="view-input" disabled>
            <option>Easy</option>
            <option>Medium</option>
            <option>Hard</option>
            </select>

            <label>Categories</label>
            <div class="category-options" id="edit-category-options">
                <label><input type="checkbox" value="Breakfast" disabled> Breakfast</label>
                <label><input type="checkbox" value="Lunch" disabled> Lunch</label>
                <label><input type="checkbox" value="Dinner" disabled> Dinner</label>
                <label><input type="checkbox" value="Snacks" disabled> Snacks</label>
            </div>

            <label class="view-label">Image URL</label>
            <input id="view-image-url" type="text" class="view-input" disabled>


            <!-- space filler -->
            <div style="height:8px"></div>
        </div>
        </div>

        <!-- ACTIONS -->
        <div class="view-actions">
        <button id="view-edit-btn" class="btn btn-primary">Edit</button>
        <button id="view-save-btn" class="btn btn-primary" style="display:none;">Save</button>
        <button id="view-close-btn" class="btn btn-secondary">Close</button>
        </div>

    </div>
    </div>

    <!-- DELETE CONFIRMATION MODAL -->
    <div id="delete-modal" class="modal-overlay" aria-hidden="true">
        <div class="modal-box delete-modal-box">
            <h3>Delete this recipe?</h3>
            <p>This action cannot be undone.</p>

            <div class="delete-actions">
                <button id="confirm-delete" class="confirm-btn">Yes, Delete</button>
                <button id="cancel-delete" class="cancel-btn">Cancel</button>
            </div>
        </div>
    </div>

    <!-- LOTTIE LOADING OVERLAY -->
    <div id="loading-overlay" class="loading-overlay" style="display:none;">
        <div class="loading-content">
            <dotlottie-wc
                src="https://lottie.host/05b1b612-1f1f-402e-9156-b816f96cd0da/mxVRxVsqmz.lottie"
                style="width: 500px;height: 500px"
                autoplay
                loop
            ></dotlottie-wc>

            <p id="loading-text">Cooking up your recipe...</p>
        </div>
    </div>


    <!-- TOAST -->
    <div id="toast"></div>


    <!-- Footer link to your uploaded assessment file (local path) -->
    <footer style="display:none;">
    <a href="/mnt/data/full_stack_test.pdf" target="_blank" rel="noopener">Requirements PDF</a>
    </footer>

    <!-- Minimal JS for modal open/close (keeps UI accessible) -->
    <script src="assets/scripts/index.js"></script>
    <script
        src="https://unpkg.com/@lottiefiles/dotlottie-wc@0.8.5/dist/dotlottie-wc.js"
        type="module"
    ></script>
    <script src="assets/scripts/kanban.js"></script>
    <script src="assets/scripts/theme.js"></script>
</body>
</html>
